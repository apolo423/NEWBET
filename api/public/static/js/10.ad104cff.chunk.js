(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1465:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(9),i=a(11),l=a(10),o=a(12),s=a(0),c=a.n(s),d=a(43),u=a(1),p=a(24),m=a(20),h=a(527),f=a.n(h),v=a(526),b=a.n(v),y=a(528),E=a.n(y),g=a(525),w=a.n(g),S=a(523),C=a.n(S),x=a(524),j=a.n(x),k=a(94),O=a.n(k),A=a(171),N=a.n(A),B=a(273),R=a.n(B),T=a(269),_=a.n(T),P=a(270),D=a.n(P),W=a(271),q=a.n(W),F=a(522),M=a.n(F),H=a(272),I=a.n(H),J=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1,type:"",row:{_id:"",title:"",subtitle:"",description:""}},a.handleClickOpen=function(){a.setState({open:!0,row:a.props.row,type:a.props.type})},a.handleClose=function(){a.setState({open:!1})},a.handleChange=function(e){return function(t){var n=a.state.row;n[e]=t.target.value,a.setState({row:n})}},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setState({row:this.props.row,type:this.props.type})}},{key:"render",value:function(){var e=this,t=this.props,a=t.onSave,n=t.onRemove;return c.a.createElement("div",null,"edit"===this.state.type&&c.a.createElement("div",null,c.a.createElement(u.C,{onClick:function(t){t.stopPropagation(),e.handleClickOpen()}},c.a.createElement(u.B,null,"edit_attributes")),c.a.createElement(u.C,{onClick:function(t){t.stopPropagation(),window.confirm("Are you sure to remove this support?")&&n(e.state.row)}},c.a.createElement(u.B,{type:"small"},"delete"))),"add"===this.state.type&&c.a.createElement("div",{className:"flex items-center justify-end"},c.a.createElement(N.a,{className:"normal-case",variant:"contained",color:"primary","aria-label":"Add Message",onClick:function(t){t.stopPropagation(),e.handleClickOpen()}},"Add Message")),c.a.createElement(_.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},c.a.createElement(I.a,{id:"form-dialog-title"},"Feedback"),c.a.createElement(q.a,null,c.a.createElement(M.a,null,"To edit to this support, please enter description here."),c.a.createElement(R.a,{autoFocus:!0,margin:"dense",id:"title",name:"title",label:"Title",value:this.state.row.title,onChange:this.handleChange("title"),variant:"outlined",fullWidth:!0}),c.a.createElement(R.a,{margin:"dense",id:"subtitle",name:"subtitle",label:"Subtitle",value:this.state.row.subtitle,onChange:this.handleChange("subtitle"),variant:"outlined",fullWidth:!0}),c.a.createElement(R.a,{margin:"dense",id:"description",name:"description",label:"Description",value:this.state.row.description,onChange:this.handleChange("description"),variant:"outlined",multiline:!0,rows:7,fullWidth:!0})),c.a.createElement(D.a,null,c.a.createElement(N.a,{onClick:function(t){e.handleClose(),a(e.state.row,e.state.type)},color:"secondary"},"edit"===this.state.type&&"Save","add"===this.state.type&&"Add"),c.a.createElement(N.a,{onClick:this.handleClose,color:"secondary"},"Cancel"))))}}]),t}(c.a.Component);function L(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var G=[{id:"title",numeric:!1,disablePadding:!0,label:"Title"},{id:"subtitle",numeric:!1,disablePadding:!1,label:"Subtitle"},{id:"description",numeric:!1,disablePadding:!1,label:"Description"},{id:"action",numeric:!1,disablePadding:!1,label:"Action"}],U=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.order,n=t.orderBy;return c.a.createElement(C.a,null,c.a.createElement(j.a,null,G.map(function(t){return c.a.createElement(w.a,{key:t.id,align:"center",padding:t.disablePadding?"none":"default",sortDirection:n===t.id&&a},c.a.createElement(u.eb,{title:"Sort",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},c.a.createElement(b.a,{active:n===t.id,direction:a,onClick:e.createSortHandler(t.id)},t.label)))},this)))}}]),t}(c.a.Component),X=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={searchText:"",rows:[],order:"asc",orderBy:"title"},a.setSearchText=function(e){a.setState({searchText:e.target.value})},a.handleSave=function(e,t){var n=a.state.rows,r=[];console.log(e),"edit"===t?(d.b.post("/support/updateSupport",{row:e}),n.forEach(function(t,a){t._id!==e._id?r.push(t):r.push(e)})):(d.b.post("/support/addSupport",{row:e}).then(function(t){return e._id=t.data.doc._id}),(r=n).push(e)),console.log(r),a.setState({rows:r})},a.handleRemove=function(e){var t=a.state.rows,n=[];d.b.post("/support/removeSupport",{row:e}),t.forEach(function(t,a){t._id!==e._id&&n.push(t)}),a.setState({rows:n})},a.getFilteredArray=function(e,t){var a=Object.keys(e).map(function(t){return e[t]});return 0===t.length?a:m.s.filterArrayByString(a,t)},a.handleRequestSort=function(e,t){var n=t,r="desc";a.state.orderBy===t&&"desc"===a.state.order&&(r="asc"),a.setState({order:r,orderBy:n})},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.b.post("/support/getAllSupports",{}).then(function(t){e.setState({rows:t.data.doc})})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.order,r=a.orderBy,i=this.getFilteredArray(this.state.rows,this.state.searchText);return i=function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(i,function(e,t){return"desc"===e?function(e,a){return L(e,a,t)}:function(e,a){return-L(e,a,t)}}(n,r)),c.a.createElement("div",null,c.a.createElement("div",{className:"p-24 flex flex-1 flex-col items-center justify-center md:flex-row md:items-center"},c.a.createElement("div",{className:"flex flex-1 flex-col items-center justify-center md:flex-row md:items-center md:justify-start"},c.a.createElement(m.a,{animation:"transition.slideLeftIn",delay:300},c.a.createElement(u.fb,{className:"md:ml-24",variant:"h4",color:"inherit"},"Get Supports"))),c.a.createElement("div",{className:"flex flex-1 items-center justify-center pr-8 sm:px-12"},c.a.createElement(m.a,{animation:"transition.slideLeftIn",delay:300},c.a.createElement(O.a,{className:"flex p-4 items-center w-full max-w-512 px-8 py-4",elevation:1},c.a.createElement(u.B,{className:"mr-8",color:"action"},"search"),c.a.createElement(u.D,{placeholder:"Search for anything",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:this.state.searchText,inputProps:{"aria-label":"Search"},onChange:this.setSearchText})))),c.a.createElement(J,{type:"add",onSave:this.handleSave,onRemove:this.handleRemove,row:{_id:"",title:"",subtitle:"",description:""}})),c.a.createElement(O.a,{className:t.root},c.a.createElement(f.a,{className:t.table},c.a.createElement(U,{order:n,orderBy:r,onRequestSort:this.handleRequestSort}),c.a.createElement(E.a,null,i.map(function(t){return c.a.createElement(j.a,{key:t._id},c.a.createElement(w.a,{component:"th",scope:"row"},t.title),c.a.createElement(w.a,{align:"left"},t.subtitle),c.a.createElement(w.a,{align:"left"},t.description),c.a.createElement(w.a,{align:"center"},c.a.createElement(J,{type:"edit",onSave:e.handleSave,onRemove:e.handleRemove,row:t})))}),0===i.length&&c.a.createElement(j.a,null,c.a.createElement(w.a,{align:"center"},"'No support messages.'"))))))}}]),t}(s.Component);t.default=Object(p.withStyles)(function(e){return{root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700}}})(X)}}]);