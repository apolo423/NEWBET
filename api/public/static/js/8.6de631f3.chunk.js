(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1281:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=n(a(11)),o=n(a(0)),c=(n(a(2)),n(a(14))),l=n(a(60)),i={root:{lineHeight:1.5}};t.styles=i;var s=(0,c.default)(i,{name:"MuiDialogContentText"})(function(e){return o.default.createElement(l.default,(0,r.default)({component:"p",internalDeprecatedVariant:!0,variant:"subheading",color:"textSecondary"},e))});t.default=s},1520:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(6),o=a(7),c=a(9),l=a(8),i=a(10),s=a(0),d=a.n(s),u=a(1),m=a(35),p=a(20),f=a(561),g=a(15),h=a(24),y=a(3),E=a.n(y),b=a(17),v=a(25),C="[ACADEMY APP] GET CATEGORIES",x="[ACADEMY APP] UPDATE CATEGORY",N="[ACADEMY APP] ADD CATEGORY";function _(){return function(e){return v.b.post("/category/getAllCategories",{}).then(function(t){e({type:C,payload:t.data.doc})})}}function w(e){return function(t){return v.b.post("/category/updateCategory",{category:e}).then(function(e){t({type:x,payload:e.data.doc})})}}function O(e){return function(t){return v.b.post("/category/addNewCategory",{category:e}).then(function(e){t({type:N,payload:e.data.doc})})}}var j={categories:[]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:case x:case N:return{categories:t.payload};default:return e}},A=Object(g.d)({categoriesReducer:k}),P=a(361),S=a.n(P),D=a(362),T=a.n(D),M=a(363),I=a.n(M),R=a(557),Y=a.n(R),F=function(e){function t(){var e,a;Object(r.a)(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={open:!1,categories:[],is_add:!1,edit_category:{name:"",icon:"",sub_categories:[],active:!0,created_at:""}},a.handleClickOpen=function(e,t){a.setState({open:!0,edit_category:e,is_add:t})},a.handleClose=function(){a.setState({open:!1})},a.handleselectedFile=function(e){var t=e.target.files[0],n=new FormData,r=a.state.edit_category;n.append("file",t),console.log(t);return v.b.post("/upload",n,{headers:{"content-type":"multipart/form-data"}}).then(function(e){console.log(e.data.file),r.icon=e.data.file.filename,a.setState({edit_category:r})})},a.handleEditName=function(e){a.setState({edit_category:b.a.set(Object(n.a)({},a.state.edit_category),"name",e.target.value)})},a.handleChipChange=function(e,t){a.setState({edit_category:b.a.set(Object(n.a)({},a.state.edit_category),t,e.map(function(e){return e.value}))})},a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getCategories().then(function(){var t=e.props.categories;e.setState({categories:t})})}},{key:"componentDidUpdate",value:function(e,t){var a=this;b.a.isEqual(this.props.categories,e.categories)||this.props.getCategories().then(function(){var e=a.props.categories;a.setState({categories:e})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.categories,n=t.edit_category,r=this.props.classes;return d.a.createElement("div",{className:"w-full"},d.a.createElement("div",{className:E()(r.header,"relative overflow-hidden flex flex-col items-center justify-center text-center p-16 sm:p-24 h-100 sm:h-188")},d.a.createElement(p.a,{animation:"transition.slideUpIn",duration:400,delay:100},d.a.createElement(u.fb,{color:"inherit",className:"text-24 sm:text-40 font-light"},"WELCOME TO CATEGORIES")),d.a.createElement(p.a,{duration:400,delay:600},d.a.createElement(u.fb,{variant:"subtitle1",color:"inherit",className:"mt-8 sm:mt-16 mx-auto max-w-512"},d.a.createElement("span",{className:"opacity-75"},"You can add and delete main categories and sub skills here."))),d.a.createElement(u.B,{className:r.headerIcon},"category"),d.a.createElement(u.c,{className:"justify-center px-10",color:"secondary",onClick:function(t){t.stopPropagation(),e.handleClickOpen({name:"",icon:"",sub_categories:[],active:!0,created_at:""},!0)}}," Add Category ")),d.a.createElement("div",{className:"max-w-2xl w-full mx-auto px-8 sm:px-16 py-24"},d.a.createElement(p.b,{enter:{animation:"transition.slideUpBigIn"},className:"flex flex-wrap py-24"},(null==a||0===a.length)&&d.a.createElement("div",{className:"flex flex-1 items-center justify-center"},d.a.createElement(u.fb,{color:"textSecondary",className:"text-24 my-24"},"No categories found!")),a.map(function(t){return d.a.createElement("div",{className:"w-full pb-12 sm:w-1/3 lg:w-1/4 sm:p-16",key:t._id},d.a.createElement(u.d,{elevation:1,className:"flex flex-col h-200"},d.a.createElement("div",{className:"flex flex-no-shrink items-center justify-between px-24 h-48"},t.sub_categories&&d.a.createElement(u.fb,{className:"font-medium truncate",color:"inherit"},"[",t.sub_categories.length,"] categories"),d.a.createElement("div",{className:"flex items-center justify-center opacity-75"})),d.a.createElement(u.f,{className:"flex flex-col flex-auto items-center justify-center"},d.a.createElement("img",{className:"w-64",src:"http:///uploads/"+t.icon,alt:"icon"}),d.a.createElement(u.fb,{className:"text-center text-16 font-800"},t.name)),d.a.createElement(u.p,null),d.a.createElement(u.e,{className:"justify-center"},d.a.createElement(u.c,{className:"justify-center px-10",color:"secondary",onClick:function(a){a.stopPropagation(),e.handleClickOpen(t,!1)}}," Edit "),d.a.createElement(S.a,{open:e.state.open,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},d.a.createElement("div",null,d.a.createElement(I.a,null,d.a.createElement(Y.a,null,"Please enter category details here."),d.a.createElement(u.cb,{autoFocus:!0,className:"m-4",id:"name",name:"name",label:"Name",value:n.name,onChange:e.handleEditName,fullWidth:!0}),"Icon: ",d.a.createElement("input",{type:"file",id:"icon",name:"icon",onChange:e.handleselectedFile}),d.a.createElement(p.d,{className:"mt-8 mb-32",value:n.sub_categories.map(function(e){return{value:e,label:e}}),onChange:function(t){return e.handleChipChange(t,"sub_categories")},placeholder:"Select multiple categories",textFieldProps:{label:"Categories",InputLabelProps:{shrink:!0},variant:"outlined"},isMulti:!0})),d.a.createElement(T.a,null,!1===e.state.is_add&&d.a.createElement(u.c,{onClick:function(t){t.stopPropagation(),e.props.updateCategory(n),e.handleClose()},color:"primary"},"Save"),!0===e.state.is_add&&d.a.createElement(u.c,{onClick:function(t){t.stopPropagation(),e.props.addCategory(n),e.handleClose()},color:"primary"},"Add"),d.a.createElement(u.c,{onClick:e.handleClose,color:"primary"},"Cancel")))))))}))))}}]),t}(s.Component);t.default=Object(f.a)("reducers",A)(Object(m.withStyles)(function(e){return{header:{background:"linear-gradient(to right, "+e.palette.primary.dark+" 0%, "+e.palette.primary.main+" 100%)",color:e.palette.getContrastText(e.palette.primary.main)},headerIcon:{position:"absolute",top:-64,left:0,opacity:.04,fontSize:512,width:512,height:512,pointerEvents:"none"}}},{withTheme:!0})(Object(h.a)(function(e){return{categories:e.reducers.categoriesReducer.categories}},function(e){return Object(g.c)({getCategories:_,updateCategory:w,addCategory:O},e)})(F)))},557:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=n(a(1281))}}]);