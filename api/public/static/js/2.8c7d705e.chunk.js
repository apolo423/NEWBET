(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1286:function(t,e,n){"use strict";var r=n(25),a="[COURSES APP] GET COURSES",o="[COURSES APP] SET COURSES SEARCH TEXT";function c(){var t=r.b.get("/courses/get",{params:{mode:"all"}});return function(e){return t.then(function(t){return e({type:a,payload:t.data.doc})})}}function s(t){return{type:o,searchText:t.target.value}}var i=n(13),u=(n(20),n(37)),d=n(77),l="[COURSES APP] GET COURSE",p="[COURSES APP] SAVE COURSE",f="[COURSES APP] OPEN NEW CONTENT DIALOG",m="[COURSES APP] CLOSE NEW CONTENT DIALOG",h="[COURSES APP] OPEN EDIT CONTENT DIALOG",y="[COURSES APP] CLOSE EDIT CONTENT DIALOG",E="[COURSES APP] SAVE CONTENT",g="[COURSES APP] REMOVE CONTENT";function v(t){var e=r.b.get("/courses/contents",{params:t});return function(n){return e.then(function(e){e.data.success||(n(u.j({message:"Get Course Failed"})),d.a.push({pathname:"/manage/courses"})),n({type:l,payload:e.data.data,params:t})})}}function O(t){var e=r.b.post("/courses/contents/save",t);return function(t){return e.then(function(e){return t(u.j({message:"Course Saved"})),t({type:p,payload:e.data,params:{courseId:e.data._id}})})}}function S(t){var e=r.b.post("/courses/setimage",t);return function(n){return e.then(function(e){return n(v({courseId:t.courseId}))})}}function b(){return{type:l,payload:{_id:"",name:"New Course",description:"",slug:"new-course",coverimage:"",contents:[],quizs:[]}}}function C(){return{type:f}}function x(){return{type:m}}function A(t){return{type:h,data:t}}function w(){return{type:y}}function P(t){return function(e,n){var a=n().coursesApp.contents;r.b.post("/courses/contents/add",Object(i.a)({},t,{courseId:a.data._id})).then(function(t){e(u.j({message:"Content Saved"})),Promise.all([e({type:E}),e({type:"new"===a.contentDialog.type?m:y})]).then(function(){return e(v(a.params))})})}}function N(t){return function(e,n){var a=n().coursesApp.contents;r.b.post("/courses/contents/remove",Object(i.a)({},t,{courseId:a.data._id})).then(function(t){e(u.j({message:"Content Removed"})),Promise.all([e({type:g}),e({type:"new"===a.contentDialog.type?m:y})]).then(function(){return e(v(a.params))})})}}n.d(e,"d",function(){return a}),n.d(e,"h",function(){return o}),n.d(e,"l",function(){return c}),n.d(e,"s",function(){return s}),n.d(e,"c",function(){return l}),n.d(e,"g",function(){return p}),n.d(e,"f",function(){return f}),n.d(e,"b",function(){return m}),n.d(e,"e",function(){return h}),n.d(e,"a",function(){return y}),n.d(e,"k",function(){return v}),n.d(e,"r",function(){return O}),n.d(e,"t",function(){return S}),n.d(e,"m",function(){return b}),n.d(e,"o",function(){return C}),n.d(e,"j",function(){return x}),n.d(e,"n",function(){return A}),n.d(e,"i",function(){return w}),n.d(e,"q",function(){return P}),n.d(e,"p",function(){return N})},1523:function(t,e,n){"use strict";n.r(e);var r=n(79),a=n.n(r),o=n(116),c=n(6),s=n(7),i=n(9),u=n(8),d=n(10),l=n(0),p=n.n(l),f=n(1),m=n(35),h=n(20),y=n(3),E=n.n(y),g=n(19),v=n(16),O=n(15),S=(n(1286),n(25)),b=function(t){function e(){var t,n;Object(c.a)(this,e);for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return(n=Object(i.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(s)))).state={courses:[]},n.fetchCourse=function(t){S.b.get("/courses/get",{params:t}).then(function(t){n.setState({courses:t.data.doc})})},n.fetchActivity=function(){S.b.post("/activity/get/user",{userId:n.props.user.userId}).then(function(){var t=Object(o.a)(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.setState({activities:e.data.data});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.fetchCourse({mode:this.props.match.params.mode,userId:this.props.user.userId}),this.fetchActivity()}},{key:"componentDidUpdate",value:function(t){t.location.pathname!==this.props.location.pathname&&(this.fetchCourse({mode:this.props.match.params.mode,userId:this.props.user.userId}),this.fetchActivity())}},{key:"render",value:function(){var t=this,e=this.state,n=e.courses,r=e.activities,a=this.props.classes;return n&&r&&0!==n.length?p.a.createElement(h.a,{animation:"transition.slideUpIn",delay:300},p.a.createElement(f.x,{cols:0,cellHeight:80,className:E()(a.root,"p-16")},n.map(function(e,n){var r=-1!==Object.keys(t.state.activities).indexOf("".concat(e._id))?t.state.activities["".concat(e._id)].length:0;return p.a.createElement(f.y,{classes:{root:"w-full h-full",tile:"rounded-8 text-center w-full"},style:{display:"flex",background:"#000",padding:"10px",margin:"0 0 10px",border:"1px solid #000",position:"relative",boxShadow:"0px 0px 9px 1px rgba(252, 255, 255, 0.16)"},key:n},p.a.createElement(v.a,{to:"/courses/detail/".concat(e._id),style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},p.a.createElement("div",{style:{display:"flex",alignItems:"center"}},p.a.createElement("img",{src:""===e.coverimage?"assets/images/img/icons/s1.png":"".concat(S.a,"/uploads/").concat(e._id,"/").concat(e.coverimage,"?").concat(Date.now()),alt:"",style:{width:"70px",height:"60px",borderRadius:"10px",border:"4px solid white"}}),p.a.createElement("div",{style:{marginLeft:"10px"}},p.a.createElement("h4",{style:{margin:0,fontWeight:"600",fontSize:"13px",textAlign:"left"},className:a.title},"".concat(e.name," (").concat(r,"/").concat(e.contents.length,")")),p.a.createElement("small",{style:{color:"#828caa",marginTop:"10px",display:"inherit",textAlign:"left"}},p.a.createElement(f.G,{style:{width:"300px"},variant:"determinate",value:r&&e.contents.length?r/e.contents.length*100:0,color:"primary"}))))))}))):p.a.createElement("div",{className:E()(a.root,"flex items-center justify-center h-full")},p.a.createElement(f.fb,{variant:"h5",className:a.title},"No courses found"))}}]),e}(l.Component);e.default=Object(m.withStyles)(function(t){return{root:{background:"black"},title:{color:"white"}}},{withTheme:!0})(Object(g.b)(function(t){return{user:t.auth.user}},function(t){return Object(O.c)({},t)})(b))}}]);