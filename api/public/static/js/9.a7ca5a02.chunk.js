(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1216:function(e,t,a){"use strict";var n=a(8),r=a(9),o=a(11),c=a(10),i=a(12),l=a(0),s=a.n(l),u=a(125),d=a(19);t.a=function(e,t){return function(a){return function(l){function m(a){var r;return Object(n.a)(this,m),r=Object(o.a)(this,Object(c.a)(m).call(this,a)),Object(u.b)(e,t),r}return Object(i.a)(m,l),Object(r.a)(m,[{key:"render",value:function(){var t=this;return s.a.createElement(d.a.Consumer,null,function(n){return n.store,n.storeState[e]?s.a.createElement(a,t.props):null})}}]),m}(s.a.PureComponent)}}},1227:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=n(a(6)),o=n(a(0)),c=(n(a(2)),n(a(14))),i=n(a(70)),l={root:{lineHeight:1.5}};t.styles=l;var s=(0,c.default)(l,{name:"MuiDialogContentText"})(function(e){return o.default.createElement(i.default,(0,r.default)({component:"p",internalDeprecatedVariant:!0,variant:"subheading",color:"textSecondary"},e))});t.default=s},1462:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(8),o=a(9),c=a(11),i=a(10),l=a(12),s=a(0),u=a.n(s),d=a(1),m=a(24),p=a(20),f=a(1216),g=a(15),h=a(23),y=a(3),b=a.n(y),E=a(16),v=a(43),C="[ACADEMY APP] GET CATEGORIES",x="[ACADEMY APP] UPDATE CATEGORY",O="[ACADEMY APP] ADD CATEGORY";function j(){return function(e){return v.b.post("/category/getAllCategories",{}).then(function(t){e({type:C,payload:t.data.doc})})}}function N(e){return function(t){return v.b.post("/category/updateCategory",{category:e}).then(function(e){t({type:x,payload:e.data.doc})})}}function _(e){return function(t){return v.b.post("/category/addNewCategory",{category:e}).then(function(e){t({type:O,payload:e.data.doc})})}}var w={categories:[]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:case x:case O:return{categories:t.payload};default:return e}},A=Object(g.d)({categoriesReducer:k}),P=a(269),S=a.n(P),D=a(270),T=a.n(D),M=a(271),I=a.n(M),R=a(522),Y=a.n(R),F=function(e){function t(){var e,a;Object(r.a)(this,t);for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={open:!1,categories:[],is_add:!1,edit_category:{name:"",icon:"",sub_categories:[],active:!0,created_at:""}},a.handleClickOpen=function(e,t){a.setState({open:!0,edit_category:e,is_add:t})},a.handleClose=function(){a.setState({open:!1})},a.handleselectedFile=function(e){var t=e.target.files[0],n=new FormData,r=a.state.edit_category;n.append("file",t),console.log(t);return v.b.post("/upload",n,{headers:{"content-type":"multipart/form-data"}}).then(function(e){console.log(e.data.file),r.icon=e.data.file.filename,a.setState({edit_category:r})})},a.handleEditName=function(e){a.setState({edit_category:E.a.set(Object(n.a)({},a.state.edit_category),"name",e.target.value)})},a.handleChipChange=function(e,t){a.setState({edit_category:E.a.set(Object(n.a)({},a.state.edit_category),t,e.map(function(e){return e.value}))})},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getCategories().then(function(){var t=e.props.categories;e.setState({categories:t})})}},{key:"componentDidUpdate",value:function(e,t){var a=this;E.a.isEqual(this.props.categories,e.categories)||this.props.getCategories().then(function(){var e=a.props.categories;a.setState({categories:e})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.categories,n=t.edit_category,r=this.props.classes;return u.a.createElement("div",{className:"w-full"},u.a.createElement("div",{className:b()(r.header,"relative overflow-hidden flex flex-col items-center justify-center text-center p-16 sm:p-24 h-100 sm:h-188")},u.a.createElement(p.a,{animation:"transition.slideUpIn",duration:400,delay:100},u.a.createElement(d.fb,{color:"inherit",className:"text-24 sm:text-40 font-light"},"WELCOME TO CATEGORIES")),u.a.createElement(p.a,{duration:400,delay:600},u.a.createElement(d.fb,{variant:"subtitle1",color:"inherit",className:"mt-8 sm:mt-16 mx-auto max-w-512"},u.a.createElement("span",{className:"opacity-75"},"You can add and delete main categories and sub skills here."))),u.a.createElement(d.B,{className:r.headerIcon},"category"),u.a.createElement(d.c,{className:"justify-center px-10",color:"secondary",onClick:function(t){t.stopPropagation(),e.handleClickOpen({name:"",icon:"",sub_categories:[],active:!0,created_at:""},!0)}}," Add Category ")),u.a.createElement("div",{className:"max-w-2xl w-full mx-auto px-8 sm:px-16 py-24"},u.a.createElement(p.b,{enter:{animation:"transition.slideUpBigIn"},className:"flex flex-wrap py-24"},(null==a||0===a.length)&&u.a.createElement("div",{className:"flex flex-1 items-center justify-center"},u.a.createElement(d.fb,{color:"textSecondary",className:"text-24 my-24"},"No categories found!")),a.map(function(t){return u.a.createElement("div",{className:"w-full pb-12 sm:w-1/3 lg:w-1/4 sm:p-16",key:t._id},u.a.createElement(d.d,{elevation:1,className:"flex flex-col h-200"},u.a.createElement("div",{className:"flex flex-no-shrink items-center justify-between px-24 h-48"},t.sub_categories&&u.a.createElement(d.fb,{className:"font-medium truncate",color:"inherit"},"[",t.sub_categories.length,"] categories"),u.a.createElement("div",{className:"flex items-center justify-center opacity-75"})),u.a.createElement(d.f,{className:"flex flex-col flex-auto items-center justify-center"},u.a.createElement("img",{className:"w-64",src:"http:///uploads/"+t.icon,alt:"icon"}),u.a.createElement(d.fb,{className:"text-center text-16 font-800"},t.name)),u.a.createElement(d.p,null),u.a.createElement(d.e,{className:"justify-center"},u.a.createElement(d.c,{className:"justify-center px-10",color:"secondary",onClick:function(a){a.stopPropagation(),e.handleClickOpen(t,!1)}}," Edit "),u.a.createElement(S.a,{open:e.state.open,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},u.a.createElement("div",null,u.a.createElement(I.a,null,u.a.createElement(Y.a,null,"Please enter category details here."),u.a.createElement(d.cb,{autoFocus:!0,className:"m-4",id:"name",name:"name",label:"Name",value:n.name,onChange:e.handleEditName,fullWidth:!0}),"Icon: ",u.a.createElement("input",{type:"file",id:"icon",name:"icon",onChange:e.handleselectedFile}),u.a.createElement(p.d,{className:"mt-8 mb-32",value:n.sub_categories.map(function(e){return{value:e,label:e}}),onChange:function(t){return e.handleChipChange(t,"sub_categories")},placeholder:"Select multiple categories",textFieldProps:{label:"Categories",InputLabelProps:{shrink:!0},variant:"outlined"},isMulti:!0})),u.a.createElement(T.a,null,!1===e.state.is_add&&u.a.createElement(d.c,{onClick:function(t){t.stopPropagation(),e.props.updateCategory(n),e.handleClose()},color:"primary"},"Save"),!0===e.state.is_add&&u.a.createElement(d.c,{onClick:function(t){t.stopPropagation(),e.props.addCategory(n),e.handleClose()},color:"primary"},"Add"),u.a.createElement(d.c,{onClick:e.handleClose,color:"primary"},"Cancel")))))))}))))}}]),t}(s.Component);t.default=Object(f.a)("reducers",A)(Object(m.withStyles)(function(e){return{header:{background:"linear-gradient(to right, "+e.palette.primary.dark+" 0%, "+e.palette.primary.main+" 100%)",color:e.palette.getContrastText(e.palette.primary.main)},headerIcon:{position:"absolute",top:-64,left:0,opacity:.04,fontSize:512,width:512,height:512,pointerEvents:"none"}}},{withTheme:!0})(Object(h.a)(function(e){return{categories:e.reducers.categoriesReducer.categories}},function(e){return Object(g.c)({getCategories:j,updateCategory:N,addCategory:_},e)})(F)))},522:function(e,t,a){"use strict";var n=a(4);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=n(a(1227))}}]);